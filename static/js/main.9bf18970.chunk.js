(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,a){e.exports=a.p+"static/media/logo.3684fb1a.png"},185:function(e,t,a){e.exports=a(356)},187:function(e,t,a){},188:function(e,t,a){},202:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},203:function(e,t,a){},356:function(e,t,a){"use strict";a.r(t);a(186),a(187),a(188),a(189),a(190),a(191),a(192),a(193);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),l=a(69),s=a(59),i=(a(202),a(203),a(55)),u=a(32),p=a(33),m=a(36),d=a(34),f=a(37),b=a(363),E=a(357),g=a(10),h=(b.b.SubMenu,E.a.Header),v=E.a.Content,y=(E.a.Footer,E.a.Sider),T=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).checkAuth=function(){var e=sessionStorage.getItem("posUser");(!e||e.length<1)&&window.location.replace("/POS-API/login")},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.checkAuth(),a.state={collapsed:!0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.collapsed,t=sessionStorage.getItem("posUser");return r.a.createElement("div",null,t&&r.a.createElement(E.a,null,r.a.createElement(y,{trigger:null,collapsible:!0,collapsed:e},r.a.createElement("div",{className:"logo"}),r.a.createElement(b.b,{theme:"light",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(b.b.Item,{key:"1"},r.a.createElement(s.b,{to:"/POS-API"},r.a.createElement(g.a,{type:"appstore"}),r.a.createElement("span",null,"Table Map"))),r.a.createElement(b.b.Item,{key:"2"},r.a.createElement(s.b,{to:"/test"},r.a.createElement(g.a,{type:"code"}),r.a.createElement("span",null,"Test"))),r.a.createElement(b.b.Item,{key:"3"},r.a.createElement(g.a,{type:"upload"}),r.a.createElement("span",null,"nav 3")))),r.a.createElement(E.a,null,r.a.createElement(h,{style:{background:"#fff",padding:0}},r.a.createElement(g.a,{className:"trigger",type:e?"menu-unfold":"menu-fold",onClick:this.toggle})),r.a.createElement(v,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},this.props.children))))}}]),t}(r.a.Component),O=(b.b.SubMenu,E.a.Header,E.a.Content,E.a.Footer,E.a.Sider,function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.children)}}]),t}(r.a.Component)),k=a(362),C=[{title:"Title 1"},{title:"Title 2"},{title:"Title 3"},{title:"Title 4"},{title:"Title 5"},{title:"Title 6"}],I=(n.Component,a(12)),x=a.n(I),S=a(18),R=a(39),j=a(25),w="http://118.69.68.108:8087/",A=a(62),L=a.n(A);a(282);var V=function(){var e=Object(S.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get(w+t).then(function(e){return e}).catch(function(e){return e.response});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P={isLoading:!1,tableTypes:[],tableAreas:[],RVCQuickInfomation:{}},N={requestTableTypes:function(){return function(){var e=Object(S.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REQUEST_TABLE_TYPES"}),e.next=4,V("api/GetTableMap/GetTableType");case 4:200===(a=e.sent).status&&t({type:"RECEIVE_TABLE_TYPES",tableTypes:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"RECEIVE_TABLE_TYPES",tableTypes:[]});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},requestTableAreas:function(){return function(){var e=Object(S.a)(x.a.mark(function e(t){var a,n,r,c,o,l,s,i,u;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REQUEST_TABLE_AREAS"}),e.next=4,V("api/GetTableMap/GetTableAreas?RVCNo=33");case 4:if(200!==(a=e.sent).status){e.next=38;break}n=!0,r=!1,c=void 0,e.prev=9,o=a.data[Symbol.iterator]();case 11:if(n=(l=o.next()).done){e.next=22;break}return s=l.value,i=[],e.next=16,V("api/GetTableMap/GetTableMap?RVCNo=33&TableArea=".concat(s.tableArea1));case 16:200===(u=e.sent).status&&(i=u.data),s.tableMaps=i;case 19:n=!0,e.next=11;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(9),r=!0,c=e.t0;case 28:e.prev=28,e.prev=29,n||null==o.return||o.return();case 31:if(e.prev=31,!r){e.next=34;break}throw c;case 34:return e.finish(31);case 35:return e.finish(28);case 36:console.log(a.data),t({type:"RECEIVE_TABLE_AREAS",tableAreas:a.data});case 38:e.next=44;break;case 40:e.prev=40,e.t1=e.catch(0),console.log(e.t1),t({type:"RECEIVE_TABLE_AREAS",tableAreas:[]});case 44:case"end":return e.stop()}},e,null,[[0,40],[9,24,28,36],[29,,31,35]])}));return function(t){return e.apply(this,arguments)}}()},requestRVCQuickInfomation:function(){return function(){var e=Object(S.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REQUEST_RVCQIT"}),e.next=4,V("api/GetTableMap/GetRVCQuickInfomation?RVCNo=33&POSDay=04&POSMonth=06&POSYear=2019");case 4:200===(a=e.sent).status&&t({type:"RECEIVE_RVCQIT",RVCQuickInfomation:a.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t({type:"RECEIVE_RVCQIT",RVCQuickInfomation:{}});case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},requestPOSInfo:function(){return Object(S.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V("api/GetTableMap/GetPOSInfo?RVCCode=33&POSUser=no");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",t.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))}},_=function(e,t){return e=e||P,"REQUEST_TABLE_AREAS"===t.type?Object(j.a)({},e,{isLoading:!0}):"RECEIVE_TABLE_AREAS"===t.type?Object(j.a)({},e,{tableAreas:t.tableAreas,isLoading:!1}):"REQUEST_TABLE_TYPES"===t.type?Object(j.a)({},e,{isLoading:!0}):"RECEIVE_TABLE_TYPES"===t.type?Object(j.a)({},e,{tableTypes:t.tableTypes,isLoading:!1}):"REQUEST_RVCQIT"===t.type?Object(j.a)({},e,{isLoading:!0}):"RECEIVE_RVCQIT"===t.type?Object(j.a)({},e,{RVCQuickInfomation:t.RVCQuickInfomation,isLoading:!1}):e},M=a(364),Q=a(73),U=a(41),D=a(361),G=a(367);var B=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).checkPOSInfo=Object(S.a)(x.a.mark(function e(){var t,n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.requestPOSInfo();case 2:(t=e.sent).length>0&&(n=new Date(t[0].posDate),r=new Date,n!==r&&M.a.warning({title:"Th\xf4ng b\xe1o!",content:"Ng\xe0y hi\u1ec7n t\u1ea1i v\xe0 ng\xe0y tr\xean h\u1ec7 th\u1ed1ng kh\xf4ng tr\xf9ng kh\u1edbp!"}));case 4:case"end":return e.stop()}},e)})),a.state={},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.requestTableTypes(),this.props.requestTableAreas(),this.props.requestRVCQuickInfomation(),this.checkPOSInfo()}},{key:"getImageNull",value:function(e){return this.props.tableTypes.find(function(t){return t.tableType1===e.tableType}).imageNull}},{key:"getImagePickup",value:function(e){return this.props.tableTypes.find(function(t){return t.tableType1===e.tableType}).imagePickup}},{key:"render",value:function(){var e=this,t=this.props,a=t.tableAreas,n=t.tableTypes,c=t.isLoading,o=t.RVCQuickInfomation;console.log(a);var l=[];return r.a.createElement("div",null,r.a.createElement("h2",null,"Table Map"),c?r.a.createElement("h3",null,"Loading..."):r.a.createElement("div",null,o.length>0&&r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",null,r.a.createElement(Q.a,{gutter:16},o.map(function(e){return r.a.createElement(U.a,{lg:6,xl:4},r.a.createElement(D.a,{style:{background:"linear-gradient(to right, #00b4db, #0083b0)"}},r.a.createElement(G.a,{title:e.title,className:"short",value:e.dataReturn})))})))),n&&a.length>0?a.map(function(t){return r.a.createElement("div",null,r.a.createElement("h3",null,t.tableAreaName),r.a.createElement(k.a,{grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:6,xxl:3},dataSource:t.tableMaps,renderItem:function(t,a){return r.a.createElement(k.a.Item,null,"0"!==t.checkNo?!l.includes(t.tableCode)&&(l.push(t.tableCode),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%"},src:"data:image/png;base64, "+e.getImagePickup(t),alt:"img"}),r.a.createElement("div",{className:"centered"},r.a.createElement("p",{className:"table-info"},r.a.createElement("span",null,t.tableCode),"|",r.a.createElement("span",null,t.tGuest,"/",t.tChild),"|",r.a.createElement("span",null,"(",t.tSubtable,")")),r.a.createElement("p",null,t.amount),r.a.createElement("p",null,t.openTime),r.a.createElement("p",{className:"status ".concat(t.lastChgTime<=45?"success":t.lastChgTime<=80?"warning":"danger")})))):r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%"},src:"data:image/png;base64, "+e.getImageNull(t),alt:"img"}),r.a.createElement("div",{className:"centered"},r.a.createElement("p",{className:"table-info"},r.a.createElement("span",null,t.tableCode)))))}}))}):r.a.createElement("h3",null,"Empty")))}}]),t}(n.Component),q=Object(l.b)(function(e){return e.tableMap},function(e){return Object(R.b)(N,e)})(B),F=a(179),Y=a.n(F),z=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).handleModelChange=function(t){console.log(t),e.setState({model:t})},e.state={model:"Example text"},e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e={imagePaste:!0,imageUpload:!0,imageUploadParam:"image_param",imageUploadURL:"/upload_image",imageUploadParams:{id:(new Date).toString()},imageUploadMethod:"POST",imageMaxSize:5242880,imageAllowedTypes:["jpeg","jpg","png"],placeholderText:"Edit Your Content Here!",pluginsEnabled:["image","link","print","align","embedly","table","ul","ol","hr","video","word_paste","fullscreen","colors","fontFamily"],toolbarButtons:[["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"],["undo","redo","print","insertTable","insertImage","fontFamily","fullscreen"]],events:{"image.beforeUpload":function(e){},"image.uploaded":function(e){},"image.inserted":function(e,t){}}};return r.a.createElement("div",null,r.a.createElement(Y.a,{config:e,model:this.state.model,onModelChange:this.handleModelChange}))}}]),t}(n.Component),H={isLoading:!1,defRVCList:"",notis:[]},J={requestDefRVCList:function(){return function(){var e=Object(S.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REQUEST_DEFRPVLIST"}),e.next=4,V("api/Login/GetDefRVCLists");case 4:200===(a=e.sent).status&&t({type:"RECEIVE_DEFRPVLIST",defRVCList:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},getTotalNotis:function(){return Object(S.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V("api/Login/GetTotalAlertByDate");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",t.data[0]);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))},getNoti:function(e){return Object(S.a)(x.a.mark(function t(){var a;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V("api/Login/GetAlertOneByDate?IDAlert="+e);case 3:if(200!==(a=t.sent).status){t.next=6;break}return t.abrupt("return",a.data[0]);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))},requestNotis:function(){return function(){var e=Object(S.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"RECEIVE_NOTIS"}),e.next=4,V("api/Login/GetAlertMoreOneByDate");case 4:a=e.sent,console.log(a),200===a.status&&t({type:"RECEIVE_NOTIS",notis:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},login:function(e){return Object(S.a)(x.a.mark(function t(){var a;return x.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V("api/Login/GetUserName?RVCNo=".concat(e.rvcNo,"&Password=").concat(e.password));case 2:if(200!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",a.data[0]);case 5:case"end":return t.stop()}},t)}))}},K=function(e,t){return e=e||H,"REQUEST_DEFRPVLIST"===t.type?Object(j.a)({},e,{isLoading:!0}):"RECEIVE_DEFRPVLIST"===t.type?Object(j.a)({},e,{defRVCList:t.defRVCList,isLoading:!1}):"REQUEST_NOTIS"===t.type?Object(j.a)({},e,{isLoading:!0}):"RECEIVE_NOTIS"===t.type?Object(j.a)({},e,{notis:t.notis,isLoading:!1}):e},W=a(84),X=a(358),Z=a(359),$=a(368),ee=a(27),te=a(360),ae=a(366),ne=a(365),re=a(180),ce=a.n(re),oe=(W.a.Option,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).menu=function(){var e=a.props.notis;return r.a.createElement(b.b,null,e&&e.map(function(e){return r.a.createElement(b.b.Item,{key:e.id},e.title)}))},a.openNotification=function(e,t){var a={message:e,description:t,duration:0,placement:"topLeft"};X.a.open(a)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.login(t).then(function(e){1===e.resuilt?(Z.a.success("Login Success!"),sessionStorage.setItem("posUser",e.posUser),window.location.replace("/POS-API")):Z.a.error("RVC No or Password is not correct!")})})},a.checkNotis=Object(S.a)(x.a.mark(function e(){var t,n,r,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.getTotalNotis();case 2:if(1!==(t=e.sent).totalMessage){e.next=11;break}return e.next=6,a.props.getNoti(t.idAlert);case 6:n=e.sent,console.log(n),r=n.title,c=n.information,a.openNotification(r,c);case 11:a.props.requestNotis();case 12:case"end":return e.stop()}},e)})),a.state={},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.requestDefRVCList(),this.checkNotis()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=a.defRVCList,c=a.isLoading;return r.a.createElement("div",{className:"login-page"},c?r.a.createElement("h3",null,"Loading"):r.a.createElement(Q.a,{type:"flex",justify:"center"},r.a.createElement($.a,{trigger:["click"],overlay:function(){return e.menu()}},r.a.createElement(ee.a,{className:"noti-btn",size:"large",shape:"circle-outline",type:"danger",icon:"bell"})),r.a.createElement(U.a,{lg:10,md:12,sm:16,xs:22,className:"login-card"},r.a.createElement("div",{className:"login-form"},r.a.createElement("div",null,r.a.createElement("img",{style:{height:"100px"},alt:"logo",src:ce.a})),r.a.createElement(te.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(te.a.Item,null,t("rvcNo",{rules:[{required:!0,message:"Please choose RVC!"}]})(r.a.createElement(ae.a.Group,{size:"large"},n&&n.map(function(e){return r.a.createElement(ae.a.Button,{value:e.rvcno},e.rvcname)})))),r.a.createElement(te.a.Item,null,t("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(ne.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(te.a.Item,null,r.a.createElement(ee.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))))))}}]),t}(n.Component)),le=te.a.create()(oe),se=Object(l.b)(function(e){return e.login},function(e){return Object(R.b)(J,e)})(le),ie=window.location.pathname.split("/")[2];var ue=function(){return"login"===ie?r.a.createElement(O,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/POS-API/login",component:se}))):r.a.createElement(T,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/POS-API",component:q}),r.a.createElement(i.a,{path:"/POS-API/tablemap",component:q}),r.a.createElement(i.a,{path:"/POS-API/about",component:z})))},pe=a(183),me=a(140);var de=function(e,t){var a={login:K,tableMap:_},n=[pe.a,Object(me.routerMiddleware)(e)],r=[],c=Object(R.c)(Object(j.a)({},a,{routing:me.routerReducer}));return Object(R.e)(c,t,R.d.apply(void 0,[R.a.apply(void 0,n)].concat(r)))}();o.a.render(r.a.createElement(l.a,{store:de},r.a.createElement(s.a,null,r.a.createElement(ue,null))),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.9bf18970.chunk.js.map