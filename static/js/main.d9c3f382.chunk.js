(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{179:function(e,t,a){e.exports=a.p+"static/media/logo.3684fb1a.png"},184:function(e,t,a){e.exports=a(355)},186:function(e,t,a){},187:function(e,t,a){},201:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},202:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);a(185),a(186),a(187),a(188),a(189),a(190),a(191),a(192);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),o=a(69),s=a(58),i=(a(201),a(202),a(54)),u=a(30),p=a(31),m=a(34),d=a(32),E=a(35),b=a(360),f=a(356),g=a(10),h=(b.b.SubMenu,f.a.Header),v=f.a.Content,T=(f.a.Footer,f.a.Sider),y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).checkAuth=function(){var e=sessionStorage.getItem("posUser");(!e||e.length<1)&&window.location.replace("/login")},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a.checkAuth(),a.state={collapsed:!0},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.collapsed,t=sessionStorage.getItem("posUser");return r.a.createElement("div",null,t&&r.a.createElement(f.a,null,r.a.createElement(T,{trigger:null,collapsible:!0,collapsed:e},r.a.createElement("div",{className:"logo"}),r.a.createElement(b.b,{theme:"light",mode:"inline",defaultSelectedKeys:["1"]},r.a.createElement(b.b.Item,{key:"1"},r.a.createElement(s.b,{to:"/"},r.a.createElement(g.a,{type:"appstore"}),r.a.createElement("span",null,"Table Map"))),r.a.createElement(b.b.Item,{key:"2"},r.a.createElement(s.b,{to:"/test"},r.a.createElement(g.a,{type:"code"}),r.a.createElement("span",null,"Test"))),r.a.createElement(b.b.Item,{key:"3"},r.a.createElement(g.a,{type:"upload"}),r.a.createElement("span",null,"nav 3")))),r.a.createElement(f.a,null,r.a.createElement(h,{style:{background:"#fff",padding:0}},r.a.createElement(g.a,{className:"trigger",type:e?"menu-unfold":"menu-fold",onClick:this.toggle})),r.a.createElement(v,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},this.props.children))))}}]),t}(r.a.Component),S=(b.b.SubMenu,f.a.Header,f.a.Content,f.a.Footer,f.a.Sider,function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1},a.toggle=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.children)}}]),t}(r.a.Component)),C=a(359),k=[{title:"Title 1"},{title:"Title 2"},{title:"Title 3"},{title:"Title 4"},{title:"Title 5"},{title:"Title 6"}],O=(n.Component,a(12)),R=a.n(O),j=a(22),x=a(38),I=a(36),w="http://118.69.68.108:8087/",V=a(62),L=a.n(V);a(281);var A=function(){var e=Object(j.a)(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get(w+t).then(function(e){return e}).catch(function(e){return e.response});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_={isLoading:!1,tableTypes:[],tableAreas:[],RVCQuickInfomation:{}},P={requestTableTypes:function(){return function(){var e=Object(j.a)(R.a.mark(function e(t){var a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REQUEST_TABLE_TYPES"}),e.next=4,A("api/GetTableMap/GetTableType");case 4:200===(a=e.sent).status&&t({type:"RECEIVE_TABLE_TYPES",tableTypes:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"RECEIVE_TABLE_TYPES",tableTypes:[]});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},requestTableAreas:function(){return function(){var e=Object(j.a)(R.a.mark(function e(t){var a,n,r,l,c,o,s,i,u;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REQUEST_TABLE_AREAS"}),e.next=4,A("api/GetTableMap/GetTableAreas?RVCNo=33");case 4:if(200!==(a=e.sent).status){e.next=38;break}n=!0,r=!1,l=void 0,e.prev=9,c=a.data[Symbol.iterator]();case 11:if(n=(o=c.next()).done){e.next=22;break}return s=o.value,i=[],e.next=16,A("api/GetTableMap/GetTableMap?RVCNo=33&TableArea=".concat(s.tableArea1));case 16:200===(u=e.sent).status&&(i=u.data),s.tableMaps=i;case 19:n=!0,e.next=11;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(9),r=!0,l=e.t0;case 28:e.prev=28,e.prev=29,n||null==c.return||c.return();case 31:if(e.prev=31,!r){e.next=34;break}throw l;case 34:return e.finish(31);case 35:return e.finish(28);case 36:console.log(a.data),t({type:"RECEIVE_TABLE_AREAS",tableAreas:a.data});case 38:e.next=44;break;case 40:e.prev=40,e.t1=e.catch(0),console.log(e.t1),t({type:"RECEIVE_TABLE_AREAS",tableAreas:[]});case 44:case"end":return e.stop()}},e,null,[[0,40],[9,24,28,36],[29,,31,35]])}));return function(t){return e.apply(this,arguments)}}()},requestRVCQuickInfomation:function(){return function(){var e=Object(j.a)(R.a.mark(function e(t){var a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REQUEST_RVCQIT"}),e.next=4,A("api/GetTableMap/GetRVCQuickInfomation?RVCNo=33&POSDay=04&POSMonth=06&POSYear=2019");case 4:200===(a=e.sent).status&&t({type:"RECEIVE_RVCQIT",RVCQuickInfomation:a.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t({type:"RECEIVE_RVCQIT",RVCQuickInfomation:{}});case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},requestPOSInfo:function(){return Object(j.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("api/GetTableMap/GetPOSInfo?RVCCode=33&POSUser=no");case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",t.data);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))}},N=function(e,t){return e=e||_,"REQUEST_TABLE_AREAS"===t.type?Object(I.a)({},e,{isLoading:!0}):"RECEIVE_TABLE_AREAS"===t.type?Object(I.a)({},e,{tableAreas:t.tableAreas,isLoading:!1}):"REQUEST_TABLE_TYPES"===t.type?Object(I.a)({},e,{isLoading:!0}):"RECEIVE_TABLE_TYPES"===t.type?Object(I.a)({},e,{tableTypes:t.tableTypes,isLoading:!1}):"REQUEST_RVCQIT"===t.type?Object(I.a)({},e,{isLoading:!0}):"RECEIVE_RVCQIT"===t.type?Object(I.a)({},e,{RVCQuickInfomation:t.RVCQuickInfomation,isLoading:!1}):e},B=a(361),M=a(73),Q=a(40),U=a(358),D=a(363);var G=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).checkPOSInfo=Object(j.a)(R.a.mark(function e(){var t,n,r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.requestPOSInfo();case 2:(t=e.sent).length>0&&(n=new Date(t[0].posDate),r=new Date,n!==r&&B.a.warning({title:"Th\xf4ng b\xe1o!",content:"Ng\xe0y hi\u1ec7n t\u1ea1i v\xe0 ng\xe0y tr\xean h\u1ec7 th\u1ed1ng kh\xf4ng tr\xf9ng kh\u1edbp!"}));case 4:case"end":return e.stop()}},e)})),a.state={},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.requestTableTypes(),this.props.requestTableAreas(),this.props.requestRVCQuickInfomation(),this.checkPOSInfo()}},{key:"getImageNull",value:function(e){return this.props.tableTypes.find(function(t){return t.tableType1===e.tableType}).imageNull}},{key:"getImagePickup",value:function(e){return this.props.tableTypes.find(function(t){return t.tableType1===e.tableType}).imagePickup}},{key:"render",value:function(){var e=this,t=this.props,a=t.tableAreas,n=t.tableTypes,l=t.isLoading,c=t.RVCQuickInfomation;console.log(a);var o=[];return r.a.createElement("div",null,r.a.createElement("h2",null,"Table Map"),l?r.a.createElement("h3",null,"Loading..."):r.a.createElement("div",null,c.length>0&&r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",null,r.a.createElement(M.a,{gutter:16},c.map(function(e){return r.a.createElement(Q.a,{lg:6,xl:4},r.a.createElement(U.a,{style:{background:"linear-gradient(to right, #00b4db, #0083b0)"}},r.a.createElement(D.a,{title:e.title,className:"short",value:e.dataReturn})))})))),n&&a.length>0?a.map(function(t){return r.a.createElement("div",null,r.a.createElement("h3",null,t.tableAreaName),r.a.createElement(C.a,{grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:6,xxl:3},dataSource:t.tableMaps,renderItem:function(t,a){return r.a.createElement(C.a.Item,null,"0"!==t.checkNo?!o.includes(t.tableCode)&&(o.push(t.tableCode),r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%"},src:"data:image/png;base64, "+e.getImagePickup(t),alt:"img"}),r.a.createElement("div",{className:"centered"},r.a.createElement("p",{className:"table-info"},r.a.createElement("span",null,t.tableCode),"|",r.a.createElement("span",null,t.tGuest,"/",t.tChild),"|",r.a.createElement("span",null,"(",t.tSubtable,")")),r.a.createElement("p",null,t.amount),r.a.createElement("p",null,t.openTime),r.a.createElement("p",{className:"status ".concat(t.lastChgTime<=45?"success":t.lastChgTime<=80?"warning":"danger")})))):r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%"},src:"data:image/png;base64, "+e.getImageNull(t),alt:"img"}),r.a.createElement("div",{className:"centered"},r.a.createElement("p",{className:"table-info"},r.a.createElement("span",null,t.tableCode)))))}}))}):r.a.createElement("h3",null,"Empty")))}}]),t}(n.Component),q=Object(o.b)(function(e){return e.tableMap},function(e){return Object(x.b)(P,e)})(G),F=a(178),Y=a.n(F),H=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).handleModelChange=function(t){console.log(t),e.setState({model:t})},e.state={model:"Example text"},e}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e={imagePaste:!0,imageUpload:!0,imageUploadParam:"image_param",imageUploadURL:"/upload_image",imageUploadParams:{id:(new Date).toString()},imageUploadMethod:"POST",imageMaxSize:5242880,imageAllowedTypes:["jpeg","jpg","png"],placeholderText:"Edit Your Content Here!",pluginsEnabled:["image","link","print","align","embedly","table","ul","ol","hr","video","word_paste","fullscreen","colors","fontFamily"],toolbarButtons:[["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"],["undo","redo","print","insertTable","insertImage","fontFamily","fullscreen"]],events:{"image.beforeUpload":function(e){},"image.uploaded":function(e){},"image.inserted":function(e,t){}}};return r.a.createElement("div",null,r.a.createElement(Y.a,{config:e,model:this.state.model,onModelChange:this.handleModelChange}))}}]),t}(n.Component),z={isLoading:!1,defRVCList:""},J={requestDefRVCList:function(){return function(){var e=Object(j.a)(R.a.mark(function e(t){var a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REQUEST_DEFRPVLIST"}),e.next=4,A("api/Login/GetDefRVCLists");case 4:a=e.sent,console.log(a),200===a.status&&t({type:"RECEIVE_DEFRPVLIST",defRVCList:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()},login:function(e){return Object(j.a)(R.a.mark(function t(){var a;return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A("api/Login/GetUserName?RVCNo=".concat(e.rvcNo,"&Password=").concat(e.password));case 2:if(200!==(a=t.sent).status){t.next=5;break}return t.abrupt("return",a.data[0]);case 5:case"end":return t.stop()}},t)}))}},K=function(e,t){return e=e||z,"REQUEST_DEFRPVLIST"===t.type?Object(I.a)({},e,{isLoading:!0}):"RECEIVE_DEFRPVLIST"===t.type?Object(I.a)({},e,{defRVCList:t.defRVCList,isLoading:!1}):e},W=a(84),X=a(365),Z=a(357),$=a(364),ee=a(362),te=a(47),ae=a(179),ne=a.n(ae),re=(W.a.Option,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.login(t).then(function(e){1===e.resuilt?(X.a.success("Login Success!"),sessionStorage.setItem("posUser",e.posUser),window.location.replace("/")):X.a.error("RVC No or Password is not correct!")})})},a.state={},a}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.requestDefRVCList()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.defRVCList,n=t.isLoading;return r.a.createElement("div",{className:"login-page"},n?r.a.createElement("h3",null,"Loading"):r.a.createElement(M.a,{type:"flex",justify:"center"},r.a.createElement(Q.a,{lg:10,md:12,sm:16,xs:22,className:"login-card"},r.a.createElement("div",{className:"login-form"},r.a.createElement("div",null,r.a.createElement("img",{style:{height:"100px"},alt:"logo",src:ne.a})),r.a.createElement(Z.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(Z.a.Item,null,e("rvcNo",{rules:[{required:!0,message:"Please choose RVC!"}]})(r.a.createElement($.a.Group,{size:"large"},a&&a.map(function(e){return r.a.createElement($.a.Button,{value:e.rvcno},e.rvcname)}),r.a.createElement($.a.Button,{value:1},"TEST"),r.a.createElement($.a.Button,{value:1},"TEST"),r.a.createElement($.a.Button,{value:1},"TEST"),r.a.createElement($.a.Button,{value:1},"TEST"),r.a.createElement($.a.Button,{value:1},"TEST"),r.a.createElement($.a.Button,{value:1},"TEST"),r.a.createElement($.a.Button,{value:1},"TEST"),r.a.createElement($.a.Button,{value:1},"TEST"),r.a.createElement($.a.Button,{value:1},"TEST"),r.a.createElement($.a.Button,{value:1},"TEST"),r.a.createElement($.a.Button,{value:1},"TEST")))),r.a.createElement(Z.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(ee.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(Z.a.Item,null,r.a.createElement(te.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))))))}}]),t}(n.Component)),le=Z.a.create()(re),ce=Object(o.b)(function(e){return e.login},function(e){return Object(x.b)(J,e)})(le),oe=window.location.pathname.split("/")[1];var se=function(){return"login"===oe?r.a.createElement(S,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/login",component:ce}))):r.a.createElement(y,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:q}),r.a.createElement(i.a,{path:"/tablemap",component:q}),r.a.createElement(i.a,{path:"/about",component:H})))},ie=a(182),ue=a(139);var pe=function(e,t){var a={login:K,tableMap:N},n=[ie.a,Object(ue.routerMiddleware)(e)],r=[],l=Object(x.c)(Object(I.a)({},a,{routing:ue.routerReducer}));return Object(x.e)(l,t,x.d.apply(void 0,[x.a.apply(void 0,n)].concat(r)))}();c.a.render(r.a.createElement(o.a,{store:pe},r.a.createElement(s.a,null,r.a.createElement(se,null))),document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.d9c3f382.chunk.js.map